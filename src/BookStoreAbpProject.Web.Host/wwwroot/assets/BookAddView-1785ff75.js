import{n,m as i,l as d,p as u,d as s,r as l}from"./index-bfafebc5.js";var c=function(){var t=this,r=t.$createElement,e=t._self._c||r;return e("div",{staticClass:"edit"},[e("h2",[t._v("新增图书")]),e("div",{staticClass:"edit-item"},[e("label",[t._v("书名")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.editData.name,expression:"editData.name"}],attrs:{placeholder:"请输入书名"},domProps:{value:t.editData.name},on:{input:function(a){a.target.composing||t.$set(t.editData,"name",a.target.value)}}})]),e("div",{staticClass:"edit-item"},[e("label",[t._v("作者")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.editData.author,expression:"editData.author"}],attrs:{type:"text",placeholder:"请输入作者"},domProps:{value:t.editData.author},on:{input:function(a){a.target.composing||t.$set(t.editData,"author",a.target.value)}}})]),e("div",{staticClass:"edit-item"},[e("label",[t._v("出版社")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.editData.publisher,expression:"editData.publisher"}],attrs:{type:"text",placeholder:"请输入出版社"},domProps:{value:t.editData.publisher},on:{input:function(a){a.target.composing||t.$set(t.editData,"publisher",a.target.value)}}})]),e("div",{staticClass:"edit-item"},[e("label",[t._v("数量")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.editData.stockNumber,expression:"editData.stockNumber"}],attrs:{type:"number",placeholder:"请输入数量",min:"0",step:"1"},domProps:{value:t.editData.stockNumber},on:{input:function(a){a.target.composing||t.$set(t.editData,"stockNumber",a.target.value)}}})]),e("div",{staticClass:"edit-item"},[e("label",[t._v("单价")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.editData.price,expression:"editData.price"}],attrs:{type:"number",placeholder:"请输入单价",min:"0",step:"0.01"},domProps:{value:t.editData.price},on:{input:function(a){a.target.composing||t.$set(t.editData,"price",a.target.value)}}})]),e("div",{staticClass:"edit-item"},[e("button",{staticStyle:{width:"100%"},on:{click:t.addBook}},[t._v("新增")])])])},m=[];const p={data(){return{editData:{price:0,stockNumber:0,publisher:"",name:"",author:""}}},methods:{loadData(t){console.log(t)},addBook:function(){if(!this.editData.name){i("请输入书名！");return}if(!this.editData.author){i("请输入作者！");return}if(!this.editData.publisher){i("请输入出版社！");return}if(!this.editData.stockNumber){i("请输入数量！");return}if(!this.editData.price){i("请输入单价！");return}d(),u("/Book/Create",this.editData).then(t=>{if(!t.success){s("新增图书失败！"+JSON.stringify(t));return}s("新增图书成功！",function(){l.push("/")})})}},mounted(){this.loadData(this.$route.query.id)}},o={};var v=n(p,c,m,!1,h,"4c683b6d",null,null);function h(t){for(let r in o)this[r]=o[r]}const D=function(){return v.exports}();export{D as default};
