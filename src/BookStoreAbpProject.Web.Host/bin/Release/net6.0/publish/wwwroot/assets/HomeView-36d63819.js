import{n as s,l as n,p as i,d as a,r as l,c,a as v}from"./index-bfafebc5.js";var _=function(){var e=this,o=e.$createElement,t=e._self._c||o;return t("div",{staticClass:"home"},[t("div",{staticClass:"query"},[t("label",[e._v("书名")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.query.name,expression:"query.name"}],attrs:{placeholder:"按书名查询"},domProps:{value:e.query.name},on:{input:function(r){r.target.composing||e.$set(e.query,"name",r.target.value)}}}),e._v("  "),t("label",[e._v("作者")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.query.author,expression:"query.author"}],attrs:{placeholder:"按作者查询"},domProps:{value:e.query.author},on:{input:function(r){r.target.composing||e.$set(e.query,"author",r.target.value)}}}),e._v("  "),t("label",[e._v("出版社")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.query.publisher,expression:"query.publisher"}],attrs:{placeholder:"按出版社查询"},domProps:{value:e.query.publisher},on:{input:function(r){r.target.composing||e.$set(e.query,"publisher",r.target.value)}}}),e._v("  "),t("button",{on:{click:e.queryBook}},[e._v("查询")]),e._v("  "),t("button",{on:{click:e.addBook}},[e._v("新增")])]),t("table",{staticStyle:{width:"100%"},attrs:{border:"1"}},[e._m(0),t("tbody",e._l(e.tableData,function(r){return t("tr",[t("td",[e._v(e._s(r.name))]),t("td",[e._v(e._s(r.author))]),t("td",[e._v(e._s(r.publisher))]),t("td",[e._v(e._s(r.stockNumber))]),t("td",[e._v(e._s(r.price))]),t("td",[t("router-link",{attrs:{to:"/book/edit?id="+r.id}},[e._v("修改")]),e._v("  "),t("a",{attrs:{href:"javascript:void(0)"},on:{click:function(f){return e.deleteBook(r.id)}}},[e._v("删除")])],1)])}),0)])])},d=[function(){var e=this,o=e.$createElement,t=e._self._c||o;return t("thead",[t("tr",[t("th",[e._v("书名")]),t("th",[e._v("作者")]),t("th",[e._v("出版社")]),t("th",[e._v("数量")]),t("th",[e._v("单价")]),t("th",[e._v("操作")])])])}];const m={data(){return{query:{name:"",author:"",publisher:""},tableData:[]}},methods:{queryBook(){n(),i("/book/query",this.query).then(e=>{if(!e.success){a("查询失败！"+JSON.stringify(e));return}this.tableData=e.result.items})},addBook(){l.push("/book/add")},deleteBook(e){var o=this;c("确定删除图书信息？",function(){n(),v("/book/delete",{id:e}).then(t=>{if(!t.success){a("删除失败！"+JSON.stringify(t));return}a("删除成功",function(){o.queryBook()})})})}},mounted(){this.queryBook()}},u={};var h=s(m,_,d,!1,p,"cf312250",null,null);function p(e){for(let o in u)this[o]=u[o]}const b=function(){return h.exports}();export{b as default};
